<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>App - Support</title>
        <meta name="description" content="App support website" />
        <script>
            // Redirect to handle client-side routing
            var pathSegmentsToKeep = 1; // Change to 0 if not using a custom domain with subdirectory
            var location = window.location;
            
            // Check if this is a known route that should have a static page
            var knownRoutes = ['privacy', 'terms', 'FAQ'];
            var currentPath = location.pathname.split('/').pop();
            
            // If it's a known route, try the static page first
            if (knownRoutes.includes(currentPath)) {
                var staticUrl = location.protocol + '//' + location.hostname + 
                               (location.port ? ':' + location.port : '') + 
                               location.pathname + '/';
                
                // Try to redirect to the static page directory
                window.location.href = staticUrl;
            } else {
                // Fallback to SPA routing
                location.replace(
                    location.protocol + '//' + location.hostname + 
                    (location.port ? ':' + location.port : '') + 
                    location.pathname.split('/').slice(0, 1 + pathSegmentsToKeep).join('/') + 
                    '/?/' + 
                    location.pathname.slice(1).split('/').slice(pathSegmentsToKeep).join('/').replace(/&/g, '~and~') +
                    (location.search ? '&' + location.search.slice(1).replace(/&/g, '~and~') : '') +
                    location.hash
                );
            }
        </script>
    </head>
    <body>
        <div id="root"></div>
        <script type="module" src="/src/main.jsx"></script>
    </body>
</html>